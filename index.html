<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donna's Recipe Collection</title>
    <style>
        :root {
            --primary: #7c3aed;
            --secondary: #e6d5ff;
            --bg: #fcf7ff;
            --text: #2c1810;
            --muted: #6b7280;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        .marquee {
            background: linear-gradient(135deg, var(--primary), #9f7aea);
            color: white;
            white-space: nowrap;
            overflow: hidden;
            padding: 0.8rem;
        }

        .marquee-content {
            display: inline-block;
            animation: marquee 30s linear infinite;
            font-size: 1.1rem;
        }

        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        header {
            background: linear-gradient(135deg, var(--primary), #9f7aea);
            color: white;
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .back-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            padding: 0.5rem 1rem;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 1rem;
        }

        .search-bar {
            width: 100%;
            max-width: 500px;
            margin: 1rem auto;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 0.8rem 1rem 0.8rem 2.5rem;
            border: 1px solid var(--secondary);
            border-radius: 12px;
            font-size: 1rem;
        }

        .search-bar::before {
            content: "üîç";
            position: absolute;
            left: 0.8rem;
            top: 50%;
            transform: translateY(-50%);
        }

        .category-section {
            margin: 2rem 0;
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .category-title {
            color: var(--primary);
            font-size: 1.3rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .recipe-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .recipe-item {
            padding: 0.8rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.2s;
        }

        .recipe-item:hover {
            background: var(--secondary);
        }

        .recipe-details {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            margin-top: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .recipe-details h2 {
            color: var(--primary);
            margin-top: 0;
        }

        .ingredients-list, .instructions-list {
            padding-left: 1.2rem;
        }

        .bee {
            position: fixed;
            font-size: 1.5rem;
            opacity: 0.2;
            animation: float 3s ease-in-out infinite;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .serving-info {
            background: var(--secondary);
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        .uma-rating {
            margin-top: 1.5rem;
            background: #fff7e6;
            border: 2px dashed #fbbf24;
            padding: 1rem;
            border-radius: 12px;
            font-size: 1.2rem;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="marquee">
        <div class="marquee-content">
            üêù Donna's Retirement Recipe Collection üêù A Lifetime of Delicious Recipes üçØ
        </div>
    </div>

    <header>
        <button id="backBtn" class="back-btn">‚Üê Back</button>
        <h1>Donna's Recipe Collection</h1>
        <div style="width:80px"></div>
    </header>

    <div class="container">
        <div class="search-bar">
            <input type="search" id="searchRecipes" placeholder="Search recipes...">
        </div>

        <div id="categoryView"></div>
        <div id="recipeDetails" style="display:none"></div>
    </div>

    <div class="bee" style="top: 20%; left: 10%">üêù</div>
    <div class="bee" style="top: 40%; right: 15%">üêù</div>
    <div class="bee" style="bottom: 30%; left: 20%">üêù</div>

    <script>
        const categoryEmojis = {
            'Cakes': 'üéÇ',
            'Cookies': 'üç™',
            'Buns': 'ü•ê',
            'Christmas': 'üéÑ',
            'Puddings': 'üçÆ',
            'Jams': 'üçØ',
            'Pickles': 'ü•í',
            'Savory': 'üç≤'
        };

        const recipes = [
            {
                id: 'cake1',
                name: 'Chocolate Brownies',
                category: 'Cakes',
                servingInfo: 'Makes: 15\nPrep Time: 30 mins\nCook Time: 25-30 mins\nCost: 30p per serve',
                ingredients: '225g Chocolate\n140g Butter\n3 Large eggs\n225g Caster Sugar\n100g Plain Flour\n1tsp Baking Powder\n1tsp Cocoa Powder',
                instructions: '1. Preheat the oven to gas 4, 180¬∞C, fan 160¬∞C...\n2. Follow the rest of the recipe as listed.'
            },
            {
                id: 'cake2',
                name: 'Banana Bread',
                category: 'Cakes',
                ingredients: '200g self raising flour\n16g cornflour\n1 tsp baking soda\n3/4 tsp baking powder\n3/4 tsp cinnamon\n3 bananas\n56g spread\n52g oil\n1 tsp vanilla\n1 egg',
                instructions: '1. Melt the spread and mix all the wet ingredients together\n2. Mix all dry ingredients together\n3. Add the ingredients together until combined\n4. Grease or line a loaf tin\n5. Pour mixture into loaf tin and bake at 160¬∞C for approximately 45 minutes',
                umaRating: true
            },
            {
                id: 'cake3',
                name: 'Chocolate Guinness Cake',
                category: 'Cakes',
                servingInfo: 'Makes: about 12 slices\nPrep Time: ‚Äî\nCook Time: 45 mins ‚Äì 1 hour',
                ingredients: 'FOR THE CAKE:\n250ml Guinness\n250g Unsalted Butter\n75g Cocoa Powder\n400g Caster Sugar\n142ml Sour Cream\n2 Large Eggs\n1 tbsp Vanilla Extract\n275g Plain Flour\n2¬Ω tsp Bicarbonate of Soda\n\nFOR THE TOPPING:\n300g Cream Cheese\n150g Icing Sugar\n125ml Double Cream (or Whipping Cream)',
                instructions: '1. Preheat the oven to gas mark 4/180¬∞C/350¬∞F. Butter and line a 23cm (9 inch) springform tin.\n2. Pour the Guinness into a large wide saucepan, add the butter in slices, and heat until melted.\n3. Whisk in the cocoa powder and sugar.\n4. In a separate bowl, beat the sour cream with the eggs and vanilla extract.\n5. Pour the sour cream mixture into the buttery Guinness mixture and whisk in the flour and bicarbonate of soda.\n6. Pour the batter into the prepared tin and bake for 45 minutes to 1 hour.\n7. Leave to cool completely in the tin on a cooling rack.\n8. For the icing: lightly whip the cream cheese until smooth, then sift over the icing sugar and beat together.\n9. Add the cream and beat again until it reaches a spreadable consistency.\n10. Ice only the top of the cake so it resembles the frothy head of a pint of Guinness.',
                notes: 'This cake is dark, moist, and rich with a gentle Guinness tang. It tastes delicious plain or with the cream cheese frosting.'
            },
            {
                id: 'christmas1',
                name: 'Traditional Christmas Pudding',
                category: 'Christmas',
                servingInfo: 'Serves: 8‚Äì10\nPrep Time: 25 mins plus overnight soaking\nCook Time: 8 hours\nNotes: Makes one large pudding in a 2pt/1.2 litre basin or two smaller 1pt/570ml puddings (same cooking time). Reheats beautifully next day wrapped in foil.',
                ingredients: '4oz / 110g Shredded suet\n2oz / 50g Self-raising flour\n4oz / 110g White bread crumbs\n8oz / 225g Soft brown sugar\n1 tsp Mixed spice\n1/4 tsp Grated nutmeg\nA pinch of cinnamon\n4oz / 110g Sultanas\n4oz / 110g Raisins\n10oz / 275g Currants\n1oz / 25g Mixed candied peel\n1oz / 25g Chopped almonds\n1 Small cooking apple (peeled, cored, finely chopped)\nZest of 1/2 orange\nZest of 1/2 lemon\n2 tbsp Rum\n2.5floz / 75ml Barley wine\n2.5floz / 75ml Stout\n2 large eggs\n2pt / 1.2 litre basin (lightly greased)',
                instructions: '1. Weigh all dry ingredients & mix well in a large bowl.\n2. Add all spices, lemon, and orange zest.\n3. Stir in dried fruit and apple.\n4. Mix all liquid ingredients in a jug.\n5. Pour into bowl and mix well. (Don‚Äôt forget to make a wish!)\n6. Cover and leave overnight.\n7. Pour into greased basin and steam for 8 hours.'
            },
            {
                id: 'buns1',
                name: 'Tangy Citrus Sticky Chelsea Buns',
                category: 'Buns',
                ingredients: '450ml whole milk\n60g unsalted butter\n650g strong white bread flour\n100g wholemeal flour\n15g salt\n1¬Ω tsp fast-action dried yeast\n2 large eggs\nZest + juice of 1 lemon\n125g icing sugar\n40g melted butter\n1 beaten egg + milk for wash\nFor filling: peel from 1 sweet-cured lemon (optional)\n100g mixed peel\n100g dried fruit\n50g dried apricots\n50g dates\n120g soft brown sugar\n1 tsp mixed spice\n1 tsp cinnamon\nFor glaze: juice of 2 lemons, 50ml lemonade, 125g sugar, 70g sweet-cured lemon pulp (optional)',
                instructions: '1. Warm milk + butter until melted\n2. Mix flours, salt, and yeast separately\n3. Add eggs to warm milk, then combine with flour to form dough\n4. Knead until smooth, cover and rise 1-2 hrs\n5. Mix filling fruits + spices\n6. Roll dough to rectangle, brush with butter, spread sugar + fruit\n7. Roll tightly, slice into 12 pieces, prove 45-60 mins\n8. Brush with egg wash, bake 30 mins at 200¬∞C/fan 180¬∞C/gas 6\n9. Boil glaze ingredients 5 mins to form syrup\n10. Brush buns with glaze and drizzle icing when cool'
            },
            {
                id: 'savory1',
                name: 'Katsu Curry Sauce',
                category: 'Savory',
                ingredients: '2-3 tbsp vegetable oil\n1 onion, finely chopped\n1 garlic clove\n2.5cm ginger\n1 tsp turmeric\n2 tbsp curry powder\n1 tbsp flour\n300ml stock\n100ml coconut milk\n1 tsp soy sauce\n1 tsp sugar',
                instructions: '1. Heat oil, cook onion\n2. Add garlic + ginger\n3. Add spices and flour\n4. Add stock + coconut milk\n5. Add soy + sugar, simmer until thickened'
            }
        ];

        let lastViewedId = localStorage.getItem('lastViewedRecipe');

        function showRecipeDetails(recipe) {
            const categoryView = document.getElementById('categoryView');
            const detailsView = document.getElementById('recipeDetails');
            const backBtn = document.getElementById('backBtn');
            
            detailsView.innerHTML = `
                <div class="recipe-details">
                    <h2>${categoryEmojis[recipe.category]} ${recipe.name}</h2>
                    ${recipe.servingInfo ? `
                        <div class="serving-info">
                            ${recipe.servingInfo.split('\n').join('<br>')}
                        </div>
                    ` : ''}
                    <h3>Ingredients:</h3>
                    <ul class="ingredients-list">
                        ${recipe.ingredients.split('\n').map(i => `<li>${i}</li>`).join('')}
                    </ul>
                    <h3>Instructions:</h3>
                    <ol class="instructions-list">
                        ${recipe.instructions.split('\n').map(i => `<li>${i.replace(/^\d+\.\s*/, '')}</li>`).join('')}
                    </ol>
                    ${recipe.umaRating ? `
                        <div class="uma-rating">
                            <strong>Uma Rating:</strong><br> üë∂üë∂üë∂üë∂üë∂
                        </div>
                    ` : ''}
                </div>
            `;
            
            categoryView.style.display = 'none';
            detailsView.style.display = 'block';
            backBtn.style.visibility = 'visible';
            
            localStorage.setItem('lastViewedRecipe', recipe.id);
        }

        function showCategoryView(searchTerm = '') {
            const categoryView = document.getElementById('categoryView');
            const detailsView = document.getElementById('recipeDetails');
            const backBtn = document.getElementById('backBtn');
            
            const categories = {};
            Object.keys(categoryEmojis).forEach(cat => categories[cat] = []);
            
            recipes.forEach(recipe => {
                if (!recipe.name.toLowerCase().includes(searchTerm.toLowerCase())) return;
                categories[recipe.category].push(recipe);
            });

            Object.keys(categories).forEach(cat => {
                categories[cat].sort((a, b) => a.name.localeCompare(b.name));
            });

            categoryView.innerHTML = Object.keys(categoryEmojis).map(category => `
                <div class="category-section">
                    <h2 class="category-title">
                        ${categoryEmojis[category]} ${category}
                    </h2>
                    <div class="recipe-list">
                        ${categories[category].map(recipe => `
                            <div class="recipe-item" onclick='showRecipeDetails(${JSON.stringify(recipe)})'>
                                ${recipe.name}
                                <span style="color:var(--muted)">‚Üí</span>
                            </div>
                        `).join('') || '<p style="color: var(--muted)">No recipes yet</p>'}
                    </div>
                </div>
            `).join('');

            categoryView.style.display = 'block';
            detailsView.style.display = 'none';
            backBtn.style.visibility = 'hidden';
        }

        document.getElementById('searchRecipes').addEventListener('input', (e) => {
            showCategoryView(e.target.value);
        });

        document.getElementById('backBtn').addEventListener('click', () => {
            showCategoryView();
        });

        if (lastViewedId) {
            const lastRecipe = recipes.find(r => r.id === lastViewedId);
            if (lastRecipe) {
                showRecipeDetails(lastRecipe);
            } else {
                showCategoryView();
            }
        } else {
            showCategoryView();
        }
    </script>
</body>
</html>
