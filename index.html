<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donna's Recipe Collection</title>
    <style>
        :root {
            --primary: #7c3aed;
            --secondary: #e6d5ff;
            --bg: #fcf7ff;
            --text: #2c1810;
            --muted: #6b7280;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        .marquee {
            background: linear-gradient(135deg, var(--primary), #9f7aea);
            color: white;
            white-space: nowrap;
            overflow: hidden;
            padding: 0.8rem;
        }

        .marquee-content {
            display: inline-block;
            animation: marquee 30s linear infinite;
            font-size: 1.1rem;
        }

        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        header {
            background: linear-gradient(135deg, var(--primary), #9f7aea);
            color: white;
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .back-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            padding: 0.5rem 1rem;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 1rem;
        }

        .search-bar {
            width: 100%;
            max-width: 500px;
            margin: 1rem auto;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 0.8rem 1rem 0.8rem 2.5rem;
            border: 1px solid var(--secondary);
            border-radius: 12px;
            font-size: 1rem;
        }

        .search-bar::before {
            content: "ğŸ”";
            position: absolute;
            left: 0.8rem;
            top: 50%;
            transform: translateY(-50%);
        }

        .category-section {
            margin: 2rem 0;
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .category-title {
            color: var(--primary);
            font-size: 1.3rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .recipe-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .recipe-item {
            padding: 0.8rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.2s;
        }

        .recipe-item:hover {
            background: var(--secondary);
        }

        .recipe-details {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            margin-top: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .recipe-details h2 {
            color: var(--primary);
            margin-top: 0;
        }

        .ingredients-list, .instructions-list {
            padding-left: 1.2rem;
        }

        .bee {
            position: fixed;
            font-size: 1.5rem;
            opacity: 0.2;
            animation: float 3s ease-in-out infinite;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .serving-info {
            background: var(--secondary);
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        .uma-rating {
            margin-top: 1.5rem;
            background: #fff7e6;
            border: 2px dashed #fbbf24;
            padding: 1rem;
            border-radius: 12px;
            font-size: 1.2rem;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="marquee">
        <div class="marquee-content">
            ğŸ Donna's Retirement Recipe Collection ğŸ A Lifetime of Delicious Recipes ğŸ¯
        </div>
    </div>

    <header>
        <button id="backBtn" class="back-btn">â† Back</button>
        <h1>Donna's Recipe Collection</h1>
        <div style="width:80px"></div>
    </header>

    <div class="container">
        <div class="search-bar">
            <input type="search" id="searchRecipes" placeholder="Search recipes...">
        </div>

        <div id="categoryView"></div>
        <div id="recipeDetails" style="display:none"></div>
    </div>

    <div class="bee" style="top: 20%; left: 10%">ğŸ</div>
    <div class="bee" style="top: 40%; right: 15%">ğŸ</div>
    <div class="bee" style="bottom: 30%; left: 20%">ğŸ</div>

    <script>
        const categoryEmojis = {
            'Cakes': 'ğŸ‚',
            'Cookies': 'ğŸª',
            'Buns': 'ğŸ¥',
            'Christmas': 'ğŸ„',
            'Puddings': 'ğŸ®',
            'Jams': 'ğŸ¯',
            'Pickles': 'ğŸ¥’',
            'Savory': 'ğŸ²'
        };

        const recipes = [
            {
                id: 'cake1',
                name: 'Chocolate Brownies',
                category: 'Cakes',
                servingInfo: 'Makes: 15\nPrep Time: 30 mins\nCook Time: 25-30 mins\nCost: 30p per serve',
                ingredients: '225g Chocolate\n140g Butter\n3 Large eggs\n225g Caster Sugar\n100g Plain Flour\n1tsp Baking Powder\n1tsp Cocoa Powder',
                instructions: '1. Preheat the oven to gas 4, 180Â°C, fan 160Â°C...\n2. Follow the rest of the recipe as listed.'
            },
            {
                id: 'cake2',
                name: 'Banana Bread',
                category: 'Cakes',
                ingredients: '200g self raising flour\n16g cornflour\n1 tsp baking soda\n3/4 tsp baking powder\n3/4 tsp cinnamon\n3 bananas\n56g spread\n52g oil\n1 tsp vanilla\n1 egg',
                instructions: '1. Melt the spread and mix all the wet ingredients together\n2. Mix all dry ingredients together\n3. Add the ingredients together until combined\n4. Grease or line a loaf tin\n5. Pour mixture into loaf tin and bake at 160Â°C for approximately 45 minutes',
                umaRating: true
            },
            {
                id: 'cake3',
                name: 'Ultimate Lemon Meringue Pie',
                category: 'Cakes',
                servingInfo: 'Serves 6 - 8\nPrep 1 hr 30 mins\nCook 1 hr 45 mins (or 40-50 mins if baking the pastry a day ahead)\nSensationally light, lemony and buttery',
                ingredients: 'FOR THE PASTRY:\n175g plain flour\n100g cold butter, cut in small pieces\n1 tbsp icing sugar\n1 egg yolk\n\nFOR THE FILLING:\n2 level tbsp cornflour\n100g golden caster sugar\nFinely grated zest 2 large lemons\n125ml fresh lemon juice\nJuice 1 small orange\n85g butter, cut into pieces\n3 egg yolks and 1 whole egg\n\nFOR THE MERINGUE:\n4 egg whites\n200g golden caster sugar\n2 level tsp cornflour',
                instructions: '1. Make pastry: combine flour, butter, icing sugar, egg yolk and water. Pulse until mixture binds. Roll and line tin, prick base, chill.\n2. Bake blind 15 mins, remove foil, bake 5â€“8 mins more. Cool.\n3. Lower oven to 180Â°C/fan 160Â°C/gas 4.\n4. Prepare filling: mix cornflour, sugar, and zest. Add lemon juice and orange juice gradually. Cook until thick, remove heat, beat in butter then eggs. Return to heat till thickened.\n5. Make meringue: whisk egg whites to soft peaks. Gradually whisk in sugar and cornflour.\n6. Reheat filling, pour into case, top with meringue, bake 18â€“20 mins until golden.\n7. Cool and slice.'
            },
            {
                id: 'cake4',
                name: 'Guinness Cake',
                category: 'Cakes',
                servingInfo: 'Rich and dark Guinness chocolate cake',
                ingredients: '250ml Guinness\n250g unsalted butter\n75g cocoa powder\n400g caster sugar\n142ml sour cream\n2 eggs\n1 tbsp vanilla extract\n275g plain flour\n2Â½ tsp bicarbonate of soda',
                instructions: '1. Heat oven to 180Â°C/fan 160Â°C/gas 4.\n2. Butter and line a 23cm springform tin.\n3. Pour Guinness and butter into a pan and heat until butter melts.\n4. Whisk in cocoa and sugar.\n5. In a separate bowl, beat sour cream, eggs, and vanilla.\n6. Mix in the Guinness mixture.\n7. Whisk in flour and bicarbonate of soda.\n8. Pour batter into tin and bake 45 minsâ€“1 hr.\n9. Cool completely before icing if desired.'
            },
            {
                id: 'pudding1',
                name: 'Ultimate CrÃ¨me BrÃ»lÃ©e',
                category: 'Puddings',
                ingredients: '2 cartons double cream (1 large 284ml + 1 small 142ml)\n100ml full-fat milk\n1 vanilla pod\n5 large egg yolks\n50g golden caster sugar + extra for topping',
                instructions: '1. Preheat oven to 160Â°C fan / 180Â°C conventional / gas 4. Sit 4 ramekins in a deep roasting tin.\n2. Pour cream and milk into a pan. Split vanilla pod, scrape seeds into pan, add pod.\n3. Whisk egg yolks and sugar 1 min until pale and fluffy.\n4. Heat cream mixture until bubbles appear. Remove from heat.\n5. Pour hot cream into yolks, whisking constantly. Strain through sieve. Skim off foam.\n6. Pour into ramekins. Add hot water to tin halfway up sides.\n7. Cover loosely with baking sheet and bake 30â€“35 mins until softly set.\n8. Cool slightly, chill until cold (overnight fine).\n9. To serve, sprinkle 1Â½ tsp sugar on each, spray lightly with water, caramelize with blowtorch until golden.'
            },
            {
                id: 'cookie1',
                name: 'Coconut Cookies',
                category: 'Cookies',
                ingredients: '5oz Margarine\n3oz Sugar\n5oz Flour\nFew drops of Vanilla',
                instructions: '1. Mix sugar and margarine then add flour and vanilla.\n2. Roll into balls (sticky) and roll in coconut.\n3. Slightly flatten and add 1/4 of a cherry on top.\n4. Bake at 180Â°C for 10-12 minutes.'
            },
            {
                id: 'christmas1',
                name: 'Traditional Christmas Pudding',
                category: 'Christmas',
                servingInfo: 'Serves: 8â€“10\nPrep: 25 mins plus overnight soaking\nCook: 8 hours',
                ingredients: '4oz / 110g Shredded suet\n2oz / 50g Self-raising flour\n4oz / 110g Breadcrumbs\n8oz / 225g Brown sugar\n1 tsp Mixed spice\nÂ¼ tsp Nutmeg\nPinch Cinnamon\n4oz Sultanas\n4oz Raisins\n10oz Currants\n1oz Mixed peel\n1oz Chopped almonds\n1 Small apple\nZest Â½ orange\nZest Â½ lemon\n2 tbsp Rum\n75ml Barley wine\n75ml Stout\n2 eggs\n2pt basin (greased)',
                instructions: '1. Mix all dry ingredients in large bowl.\n2. Add zest, fruit, and apple.\n3. Combine wet ingredients, pour in, mix well (make a wish!).\n4. Cover and leave overnight.\n5. Pour into greased basin and steam 8 hours.'
            },
            {
                id: 'buns1',
                name: 'Tangy Citrus Sticky Chelsea Buns',
                category: 'Buns',
                ingredients: '450ml whole milk\n60g butter\n650g bread flour\n100g wholemeal flour\n15g salt\n1Â½ tsp yeast\n2 eggs\nZest + juice 1 lemon\n125g icing sugar\n40g melted butter\n1 egg + milk for wash\n100g mixed peel\n100g dried fruit\n50g apricots\n50g dates\n120g brown sugar\n1 tsp mixed spice\n1 tsp cinnamon\nFor glaze: juice 2 lemons, 50ml lemonade, 125g sugar',
                instructions: '1. Warm milk and butter.\n2. Mix flours, salt, yeast.\n3. Add eggs and lemon mix, knead dough.\n4. Rise 1â€“2 hrs.\n5. Mix fruit filling.\n6. Roll, fill, slice into 12, prove 1 hr.\n7. Brush with egg wash, bake 30 mins 200Â°C.\n8. Boil glaze, brush buns.'
            },
            {
                id: 'savory1',
                name: 'Katsu Curry Sauce',
                category: 'Savory',
                ingredients: '2-3 tbsp oil\n1 onion\n1 garlic clove\n2.5cm ginger\n1 tsp turmeric\n2 tbsp curry powder\n1 tbsp flour\n300ml stock\n100ml coconut milk\n1 tsp soy sauce\n1 tsp sugar',
                instructions: '1. Cook onion in oil.\n2. Add garlic, ginger.\n3. Add spices + flour.\n4. Add stock, coconut milk.\n5. Simmer until thick.'
            }
        ];;

        let lastViewedId = localStorage.getItem('lastViewedRecipe');

        function showRecipeDetails(recipe) {
            const categoryView = document.getElementById('categoryView');
            const detailsView = document.getElementById('recipeDetails');
            const backBtn = document.getElementById('backBtn');
            
            detailsView.innerHTML = `
                <div class="recipe-details">
                    <h2>${categoryEmojis[recipe.category]} ${recipe.name}</h2>
                    ${recipe.servingInfo ? `
                        <div class="serving-info">
                            ${recipe.servingInfo.split('\n').join('<br>')}
                        </div>
                    ` : ''}
                    <h3>Ingredients:</h3>
                    <ul class="ingredients-list">
                        ${recipe.ingredients.split('\n').map(i => `<li>${i}</li>`).join('')}
                    </ul>
                    <h3>Instructions:</h3>
                    <ol class="instructions-list">
                        ${recipe.instructions.split('\n').map(i => `<li>${i.replace(/^\d+\.\s*/, '')}</li>`).join('')}
                    </ol>
                    ${recipe.umaRating ? `
                        <div class="uma-rating">
                            <strong>Uma Rating:</strong><br> ğŸ‘¶ğŸ‘¶ğŸ‘¶ğŸ‘¶ğŸ‘¶
                        </div>
                    ` : ''}
                </div>
            `;
            
            categoryView.style.display = 'none';
            detailsView.style.display = 'block';
            backBtn.style.visibility = 'visible';
            
            localStorage.setItem('lastViewedRecipe', recipe.id);
        }

        function showCategoryView(searchTerm = '') {
            const categoryView = document.getElementById('categoryView');
            const detailsView = document.getElementById('recipeDetails');
            const backBtn = document.getElementById('backBtn');
            
            const categories = {};
            Object.keys(categoryEmojis).forEach(cat => categories[cat] = []);
            
            recipes.forEach(recipe => {
                if (!recipe.name.toLowerCase().includes(searchTerm.toLowerCase())) return;
                categories[recipe.category].push(recipe);
            });

            Object.keys(categories).forEach(cat => {
                categories[cat].sort((a, b) => a.name.localeCompare(b.name));
            });

            categoryView.innerHTML = Object.keys(categoryEmojis).map(category => `
                <div class="category-section">
                    <h2 class="category-title">
                        ${categoryEmojis[category]} ${category}
                    </h2>
                    <div class="recipe-list">
                        ${categories[category].map(recipe => `
                            <div class="recipe-item" onclick='showRecipeDetails(${JSON.stringify(recipe)})'>
                                ${recipe.name}
                                <span style="color:var(--muted)">â†’</span>
                            </div>
                        `).join('') || '<p style="color: var(--muted)">No recipes yet</p>'}
                    </div>
                </div>
            `).join('');

            categoryView.style.display = 'block';
            detailsView.style.display = 'none';
            backBtn.style.visibility = 'hidden';
        }

        document.getElementById('searchRecipes').addEventListener('input', (e) => {
            showCategoryView(e.target.value);
        });

        document.getElementById('backBtn').addEventListener('click', () => {
            showCategoryView();
        });

        if (lastViewedId) {
            const lastRecipe = recipes.find(r => r.id === lastViewedId);
            if (lastRecipe) {
                showRecipeDetails(lastRecipe);
            } else {
                showCategoryView();
            }
        } else {
            showCategoryView();
        }
    </script>
</body>
</html>
